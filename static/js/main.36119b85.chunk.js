(this["webpackJsonpreact-redux-films"]=this["webpackJsonpreact-redux-films"]||[]).push([[0],{192:function(e,t,a){e.exports=a(369)},368:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"setFilms",(function(){return f}));var n={};a.r(n),a.d(n,"addToCart",(function(){return F})),a.d(n,"removeFromCart",(function(){return _}));var c={};a.r(c),a.d(c,"setFilter",(function(){return T})),a.d(c,"setSearchQuery",(function(){return x}));var i=a(0),l=a.n(i),u=a(25),o=a.n(u),m=a(10),s=a(19),d=a(13),f=function(e){return{type:"SET_FILMS",payload:e}},p=a(157),b=a(158),E=a(181),y=a(177),v=a(159),h=a.n(v),O=a(160),j=function(){return l.a.createElement(O.a,{speed:1,width:290,height:400,viewBox:"0 0 290 400",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},l.a.createElement("rect",{x:"12",y:"3",rx:"10",ry:"10",width:"289",height:"400"}))},g=a(378),C=a(166),F=function(e){return{type:"ADD_FILM",payload:e}},_=function(e){return{type:"REMOVE_FILM",payload:e}},w=a(179),I=a(180),k=a(28),S=a(370),R=a(4),L=a.n(R),M=function(e){var t=e.image,a=e.title,r=e.producer,n=e.price,c=e.addToCart,i=e.addedCount;return l.a.createElement(w.a,null,l.a.createElement(I.a,{src:t,wrapped:!0,ui:!1}),l.a.createElement(w.a.Content,null,l.a.createElement(w.a.Header,null,a),l.a.createElement(w.a.Meta,null,l.a.createElement("span",{className:"date"},r))),l.a.createElement(w.a.Content,{extra:!0},l.a.createElement(k.a,{name:"rub"}),n),l.a.createElement(S.a,{onClick:c.bind(void 0,e)},i?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 (".concat(i,")"):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))};L.a.FilmCard={film:L.a.object},M.defaultProps={film:{}};var Q=M,B=Object(s.b)((function(e,t){var a=e.cart,r=t.id;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===r?1:0)}),0)}}),(function(e){return Object(m.a)({},Object(d.b)(n,e))}))(Q),T=function(e){return{type:"SET_FILTER",payload:e}},x=function(e){return{type:"SET_QUERY",payload:e}},P=a(381),A=a(377),D=function(e){var t=e.setFilter,a=e.filterBy,r=e.searchQuery,n=e.setSearchQuery;return l.a.createElement(P.a,{className:"menu__filter",secondary:!0},l.a.createElement(P.a.Item,{active:"all"===a,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),l.a.createElement(P.a.Item,{active:"price_high"===a,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),l.a.createElement(P.a.Item,{active:"price_low"===a,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),l.a.createElement(P.a.Item,{active:"producer"===a,onClick:t.bind(void 0,"producer")},"\u0410\u0432\u0442\u043e\u0440"),l.a.createElement(P.a.Item,null,l.a.createElement(A.a,{onChange:function(e){return n(e.target.value)},icon:"search",value:r,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 ..."})))};L.a.Filter={setFilter:L.a.func,filterBy:L.a.string,searchQuery:L.a.string,setSearchQuery:L.a.func},D.defaultProps={setFilter:function(){},filterBy:"",searchQuery:"",setSearchQuery:function(){}};var N=D,Y=Object(s.b)((function(e){return{filterBy:e.filter.filterBy}}),(function(e){return Object(m.a)({},Object(d.b)(c,e))}))(N),J=a(380),U=a(379),V=function(e){var t=e.title,a=e.image,r=e.id,n=e.removeFromCart;return l.a.createElement(J.a,{divided:!0,verticalAlign:"middle"},l.a.createElement(J.a.Item,null,l.a.createElement(J.a.Content,{floated:"right"},l.a.createElement(S.a,{onClick:n.bind(void 0,r),color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),l.a.createElement(I.a,{avatar:!0,src:a}),l.a.createElement(J.a.Content,null,t)))};L.a.CartComponent={title:L.a.string,image:L.a.number,id:L.a.number,removeFromCart:L.a.func},V.defaultProps={title:"",image:"",id:null,removeFromCart:function(){}};var H=function(e){var t=e.totalPrice,a=e.count,r=e.items;return l.a.createElement(P.a,null,l.a.createElement(P.a.Item,{name:"browse"}," \u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433 "),l.a.createElement(P.a.Menu,{position:"right"},l.a.createElement(P.a.Item,{name:"signup"},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",l.a.createElement("b",null,t),"\xa0\u0440\u0443\u0431"),l.a.createElement(U.a,{trigger:l.a.createElement(P.a.Item,{name:"help"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",l.a.createElement("b",null,a),")"),content:r.map((function(e){return l.a.createElement(V,Object.assign({key:e.id},e))})),on:"click",hideOnScroll:!0})))},W=H;L.a.MenuComponent={totalPrice:L.a.number,count:L.a.number,items:L.a.array},H.defaultProps={totalPrice:null,count:null,items:[]};var q=a(175),z=a.n(q),G=Object(s.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:z()(t.items,(function(e){return e.id}))}}),(function(e){return Object(m.a)({},Object(d.b)(n,e))}))(W),K=function(e){Object(E.a)(a,e);var t=Object(y.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.setFilms;h.a.get("/films.json").then((function(t){var a=t.data;e(a)}))}},{key:"render",value:function(){var e=this.props,t=e.films,a=e.isReady;return l.a.createElement(g.a,{className:"App"},l.a.createElement(G,null),l.a.createElement(Y,null),l.a.createElement(C.a,{className:"wrap-cards"},a?t.map((function(e,t){return l.a.createElement(B,Object.assign({key:t},e))})):l.a.createElement("div",{className:"content-loader"},Array(12).fill(0).map((function(e,t){return l.a.createElement(j,{key:t})})))))}}]),a}(l.a.Component),X=a(72),Z=a.n(X),$=function(e,t,a){return function(e,t){switch(t){case"price_high":return Z()(e,"price","desc");case"price_low":return Z()(e,"price","asc");case"producer":return Z()(e,"producer","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.producer.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},ee=Object(s.b)((function(e){var t=e.films,a=e.filter;return{films:t.items&&$(t.items,a.filterBy,a.searchQuery),isReady:t.isReady}}),(function(e){return Object(m.a)({},Object(d.b)(r,e))}))(K),te=(a(367),a(368),a(176)),ae=a.n(te),re={isReady:!1,items:[],filterBy:"all"},ne=a(178),ce={items:[]},ie={searchQuery:"",filterBy:"all"},le=Object(d.c)({films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILMS":return Object(m.a)(Object(m.a)({},e),{},{items:t.payload,isReady:!0});case"SET_IS_READY":return Object(m.a)(Object(m.a)({},e),{},{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FILM":return Object(m.a)(Object(m.a)({},e),{},{items:[].concat(Object(ne.a)(e.items),[t.payload])});case"REMOVE_FILM":return Object(m.a)(Object(m.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(m.a)(Object(m.a)({},e),{},{searchQuery:t.payload});case"SET_FILTER":return Object(m.a)(Object(m.a)({},e),{},{filterBy:t.payload});default:return e}}}),ue=Object(d.d)(le,Object(d.a)(ae.a));o.a.render(l.a.createElement(s.a,{store:ue},l.a.createElement(ee,null)),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.36119b85.chunk.js.map